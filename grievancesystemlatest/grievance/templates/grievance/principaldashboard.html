{% extends 'grievance/base.html' %}
{% load crispy_forms_tags %}
{% block content %}
{% include 'grievance/adminsidebar.html' %}
<style>
  .alert-custom{
  background-color: rgb(209, 0, 0, 0.3);
  color:rgb(141, 0, 0);
  font-weight: bold;
  }
  </style>

<div style="">
  <script src="https://cdn.jsdelivr.net/npm/chart.9.3/dist/Chart.min.js"></script>
      <!-- Page content -->

      <div class="content">

        {% if messages %}
    {% for x in messages %}
            <div class="alert alert-custom  fade in alert-dismissable show" style="margin-top:18px;font-size: 15px;font-weight: bold;background-color: rgb(99, 99, 99);color: whitesmoke;">
             <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true" style="font-size:20px">Ã—</span>
              </button><center>{{x}}</center>
            </div>
     {% endfor %}
     {% endif %}
     <div >
      <h3  style="font-weight: bold;;margin-top: 20px;" class="">Principal Dashboard</h2>
      <div style="border-bottom: 3px solid #D10000;width:40%;;" class=""></div>
    </div>   <br> <br>
    <div class="row">
        <div class="col-12 col-md-6 mb-5">
     <canvas id="columnchart_values" style="padding:15px; width: 900px;height: 350px;animation-delay: 0.2s; border-radius: 15px;border: 1px solid lightgray;background-color: whitesmoke;" class="col-md-12 col-12"></canvas>
    </div>
    <div class="col-12 col-md-6 mb-5">
        <canvas id="columnchart_values1" style="padding:15px; width: 900px;height: 250px; border-radius: 15px;animation-delay: 0.2s;border: 1px solid lightgray;background-color: whitesmoke;" class="col-md-12 col-12"></canvas>
       </div>
    </div>
     <script type="text/javascript">
      Chart.defaults.global.defaultFontSize = 12;
      Chart.defaults.global.defaultFontColor = 'black'; 
      var ctx = document.getElementById('columnchart_values').getContext('2d');
      var myChart = new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: [
                'Comps',
                'IT',
                'EXTC',
                'Elex',
                'Prod',
                'Bio Med',
                'Chemical'
            
            ],
            datasets: [{
                label: 'Number of Complains',
                data: [
                {{compcomplains.count}},
                {{itcomplains.count}},
                {{extccomplains.count}},
                {{elexcomplains.count}},
                {{prodcomplains.count}},
                {{biocomplains.count}},
                {{chemcomplains.count}}

                ],
                 backgroundColor:[ 'rgb(209, 0, 0, 0.5)',
                     'rgba(255, 99, 132, 0.5)',
                     'rgba(54, 162, 235, 0.5)',
                     'rgba(255, 206, 86, 0.5)',
                     'rgba(75, 192, 192, 0.5)',
                     'rgba(153, 102, 255, 0.5)',
                     'rgba(100, 101, 285, 0.5)'
                     ]
                
                 ,
                borderColor: ['#D10000',
                     'rgba(255, 99, 132, 1)',
                     'rgba(54, 162, 235, 1)',
                     'rgba(255, 206, 86, 1)',
                     'rgba(75, 192, 192, 1)',
                     'rgba(153, 102, 255, 1)',
                     'rgba(100, 101, 285)'
                     ]
                ,
                borderWidth: 2
            }]
        },
        options: {
          title: {
                  display: true,
                  text: 'Number of complains in various branches this month'
                },
            
        }
    });

//
       
//


                ],
                 backgroundColor: '#D10000'
                //     'rgba(255, 99, 132)',
                //     'rgba(54, 162, 235)',
                //     'rgba(255, 206, 86)',
                //     'rgba(75, 192, 192)',
                //     'rgba(153, 102, 255)',
                //     'rgba(255, 159, 64)'
                 ,
                borderColor: '#D10000'
                    // 'rgba(255, 99, 132, 1)',
                    // 'rgba(54, 162, 235, 1)',
                    // 'rgba(255, 206, 86, 1)',
                    // 'rgba(75, 192, 192, 1)',
                    // 'rgba(153, 102, 255, 1)',
                    // 'rgba(255, 159, 64, 1)'
                ,
                borderWidth: 1
            }]
        },
        options: {
          title: {
                  display: true,
                  text: 'Number of complains in the college in past 6 months'
                },
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    });
    
  
      </script>

      {% if position == 'Principal' %}
      <div class='row'>
          <div class='col-md-6 col-xs-12'  id="piechart1_3d" style="width: 600px; height: 500px;"></div><div class='col-md-5 col-md-offset-1' id="piechart2_3d" style="width: 600px; height: 500px;"></div>
      </div>
      {% endif %}
         {{complains.count}}
     
</div>
</div>

      
{% endblock content %}
